<div class="main">
    <div class="header">
        <h1>회차 관리</h1>
        <div class="user-info">관리자님 환영합니다!</div>
    </div>
    <!-- 작품 정보 표시 영역 -->
    <div id="artwork-info" style="display:flex; align-items:center; gap:24px; margin:24px 0 0 0; padding:18px 0 0 0;"></div>
    <div class="section">
// ... existing code ...
// Firestore import에 doc, getDoc 추가
import { getFirestore, collection, getDocs, query, where, orderBy, doc, getDoc } from 'https://www.gstatic.com/firebasejs/11.9.1/firebase-firestore.js';
// ... existing code ...
// 작품 정보 표시 함수
async function renderArtworkInfo() {
    const artworkId = getArtworkId();
    if (!artworkId) return;
    const infoDiv = document.getElementById('artwork-info');
    infoDiv.innerHTML = '';
    try {
        const ref = doc(db, 'webtoons', artworkId);
        const snap = await getDoc(ref);
        if (!snap.exists()) {
            infoDiv.innerHTML = '<span style="color:#d32f2f;">작품 정보를 찾을 수 없습니다.</span>';
            return;
        }
        const data = snap.data();
        const imgUrl = data.posterUrl || data.landscapeUrl || 'https://via.placeholder.com/60x80?text=No+Image';
        const title = data.title || '-';
        const genres = Array.isArray(data.genre) ? data.genre.join(', ') : (data.genre || '-');
        const summary = data.summary || '';
        const img = document.createElement('img');
        img.src = imgUrl;
        img.alt = '썸네일';
        img.style.width = '60px';
        img.style.height = '80px';
        img.style.objectFit = 'cover';
        img.style.borderRadius = '8px';
        img.style.background = '#eee';
        const info = document.createElement('div');
        info.innerHTML = `<div style="font-size:1.25rem;font-weight:700;">${title}</div><div style="color:#1976d2;font-size:1.01rem;margin:2px 0 4px 0;">${genres}</div><div style="font-size:0.98rem;color:#666;max-width:420px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;">${summary}</div>`;
        infoDiv.appendChild(img);
        infoDiv.appendChild(info);
    } catch (err) {
        infoDiv.innerHTML = '<span style="color:#d32f2f;">작품 정보를 불러오는 중 오류가 발생했습니다.</span>';
    }
}
// ... existing code ...
renderArtworkInfo();
// ... existing code ...
</div>
</div> 